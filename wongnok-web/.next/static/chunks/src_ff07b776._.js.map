{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///app/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,KASb;QATa,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF,GATa;IAUd,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///app/src/lib/axios.ts"],"sourcesContent":["// จุดประสงค์: ไฟล์ตั้งค่า Axios ส่วนกลางของฝั่ง Next.js (ใช้ทั้งฝั่ง client และ server)\n//\n// พฤติกรรมสำคัญ (อธิบายกับอาจารย์ได้):\n// - บนเบราว์เซอร์ เราเรียก Next.js API (โดเมนเดียวกัน) ซึ่งทำหน้าที่ proxy ไปยัง Go API อีกที\n// - ใส่ Header Authorization: Bearer ... ให้อัตโนมัติผ่าน request interceptor\n//   โดย “พยายามใช้ idToken (OIDC) ก่อน” เพราะ backend ตรวจสอบด้วยตัวตรวจ OIDC\n//   ถ้าไม่มี idToken ค่อย fallback ไปใช้ accessToken\n// - ข้ามการอ่าน session ในเส้นทางที่ขึ้นต้นด้วย /auth/ ของ NextAuth เพื่อลดโอกาส JSON parse error ระหว่าง redirect\n// - กรณี 401 สามารถโยนไปหน้า sign-in ได้ (ทำเป็น guard ได้)\nimport axios from 'axios'\nimport { getSession, signIn } from 'next-auth/react'\n\n// Use relative baseURL in the browser (goes through Nginx /api),\n// and internal service name inside the container for server-side code.\nconst isBrowser = typeof window !== 'undefined'\nconst baseURL = isBrowser\n  ? process.env.NEXT_PUBLIC_BASE_PATH || ''\n  : process.env.INTERNAL_API_BASE || 'http://go-wongnok:8080'\n\nexport const api = axios.create({\n  baseURL,\n})\n\napi.interceptors.request.use(async (config) => {\n  try {\n    if (typeof window !== 'undefined') {\n      // Skip token fetch on auth-related pages to avoid next-auth client fetch errors during redirects\n      const path = window.location.pathname || ''\n      if (path.startsWith('/auth') || path.startsWith('/api/auth')) {\n        return config\n      }\n      // Wait briefly for NextAuth to hydrate on first load to reduce 401s\n      let session = await getSession()\n      if (!session) {\n        await new Promise((r) => setTimeout(r, 150))\n        session = await getSession()\n      }\n\n      const tokenToUse = (session as any)?.idToken || (session as any)?.accessToken\n      if (tokenToUse) {\n        config.headers = config.headers || {}\n        ;(config.headers as any).Authorization = `Bearer ${tokenToUse}`\n      }\n    }\n  } catch (error) {\n    // Swallow and proceed without token\n  console.error('axios: access token fetch failed:', error)\n  }\n  return config\n})\n\napi.interceptors.response.use(\n  (response: any) => response,\n  async (error: any) => {\n    if (error.response?.status === 401 && typeof window !== 'undefined') {\n      // Avoid loops: only redirect if we're not already on auth pages\n      const onAuth = window.location.pathname.startsWith('/auth')\n      if (!onAuth) signIn('keycloak')\n    }\n    return Promise.reject(error)\n  }\n)\n"],"names":[],"mappings":"AAAA,wFAAwF;AACxF,EAAE;AACF,uCAAuC;AACvC,8FAA8F;AAC9F,8EAA8E;AAC9E,8EAA8E;AAC9E,qDAAqD;AACrD,mHAAmH;AACnH,4DAA4D;;;;AAQxD;AAPJ;AACA;;;AAEA,iEAAiE;AACjE,uEAAuE;AACvE,MAAM,YAAY,aAAkB;AACpC,MAAM,UAAU,uCACZ,wDAAqC,KACrC;AAEG,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9B;AACF;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO;IAClC,IAAI;QACF,wCAAmC;gBAad,OAA6B;YAZhD,iGAAiG;YACjG,MAAM,OAAO,OAAO,QAAQ,CAAC,QAAQ,IAAI;YACzC,IAAI,KAAK,UAAU,CAAC,YAAY,KAAK,UAAU,CAAC,cAAc;gBAC5D,OAAO;YACT;YACA,oEAAoE;YACpE,IAAI,UAAU,MAAM,CAAA,GAAA,iJAAA,CAAA,aAAU,AAAD;YAC7B,IAAI,CAAC,SAAS;gBACZ,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;gBACvC,UAAU,MAAM,CAAA,GAAA,iJAAA,CAAA,aAAU,AAAD;YAC3B;YAEA,MAAM,aAAa,EAAA,QAAC,qBAAD,4BAAA,MAAkB,OAAO,OAAI,SAAC,qBAAD,6BAAA,OAAkB,WAAW;YAC7E,IAAI,YAAY;gBACd,OAAO,OAAO,GAAG,OAAO,OAAO,IAAI,CAAC;gBAClC,OAAO,OAAO,CAAS,aAAa,GAAG,AAAC,UAAoB,OAAX;YACrD;QACF;IACF,EAAE,OAAO,OAAO;QACd,oCAAoC;QACtC,QAAQ,KAAK,CAAC,qCAAqC;IACnD;IACA,OAAO;AACT;AAEA,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAkB,UACnB,OAAO;QACD;IAAJ,IAAI,EAAA,kBAAA,MAAM,QAAQ,cAAd,sCAAA,gBAAgB,MAAM,MAAK,OAAO,aAAkB,aAAa;QACnE,gEAAgE;QAChE,MAAM,SAAS,OAAO,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC;QACnD,IAAI,CAAC,QAAQ,CAAA,GAAA,iJAAA,CAAA,SAAM,AAAD,EAAE;IACtB;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB","debugId":null}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///app/src/services/recipe.service.ts"],"sourcesContent":["import {  RecipeForm, UserForm } from '@/app/create-recipe/page'\nimport { RecipeFormUpdate } from '@/app/edit-recipe/[recipeId]/page'\nimport { api } from '@/lib/axios'\n\nexport type User = {\n  id: string\n  firstName: string\n  lastName: string\n  imageUrl: string\n  nickName: string\n}\n\ntype CookingDuration = {\n  id: number\n  name: string\n}\n\ntype Difficulty = {\n  id: number\n  name: string\n}\n\nexport type Recipe = {\n  id: string\n  name: string\n  imageUrl: string\n  description: string\n  rating: Rating\n  favorite: Favorite\n  cookingDuration: CookingDuration\n  difficulty: Difficulty\n  user: User\n  averageRating?: number\n}\n\nexport type Rating = {\n  foodRecipeID: number\n  id: number\n  score: number\n  UserID: string\n}\n\nexport type Favorite = {\n  foodRecipeID: number\n  id: number\n  UserID: string\n}\n\ntype RecipeDetails = {\n  id: number\n  name: string\n  description: string\n  ingredient: string\n  instruction: string\n  imageUrl: string\n  cookingDuration: CookingDuration\n  difficulty: Difficulty\n  rating: Rating\n  favorite: Favorite\n  createdAt: string\n  updatedAt: string\n  averageRating: number\n  user: User\n}\n\ntype fetchRecipeRequest = {\n  page: number\n  limit: number\n  search: string\n}\n\n// ดึงรายการสูตรอาหารแบบแบ่งหน้า + ค้นหา\n// - page/limit สำหรับ pagination\n// - search สำหรับกรองด้วยชื่อ/คำอธิบาย\nexport const fetchRecipes = async (data: fetchRecipeRequest) => {\n  const recipesFetch = await api.get<{ results: Recipe[]; total: number }>(\n    `/api/v1/food-recipes?page=${data.page}&limit=${data.limit}&search=${data.search}`\n  )\n  return recipesFetch.data\n}\n\n// ดึงรายละเอียดสูตรอาหารตาม id (ใช้ในหน้าแสดงรายละเอียด/แก้ไข)\nexport const fetchRecipeDetails = async (id: number) => {\n  const recipeDetails = await api.get<RecipeDetails>(\n    `/api/v1/food-recipes/${id}`\n  )\n  return recipeDetails\n}\n// ลบสูตรอาหารของฉัน (เจ้าของเรคอร์ดเท่านั้น)\nexport const deleteMyRecipe = async (id: number) => {\n  const recipeDetails = await api.delete<RecipeDetails>(\n    `/api/v1/food-recipes/${id}`\n  )\n  return recipeDetails\n}\n// อัปเดตสูตรอาหารของฉัน — map ฟอร์มให้ตรงกับ API (difficultyID/cookingDurationID เป็นตัวเลข)\nexport const updateMyRecipe = async (data: RecipeFormUpdate) => {\n  const recipeDetails = await api.put<RecipeFormUpdate>(\n    `/api/v1/food-recipes/${data.id}`,\n    {\n      name: data.name,\n      description: data.description,\n      ingredient: data.ingredient,\n      instruction: data.instruction,\n      imageURL: data.imageURL ?? '',\n      difficultyID: Number(data.difficulty),\n      cookingDurationID: Number(data.duration),\n    }\n  )\n  return recipeDetails\n}\n\n// สร้างสูตรอาหารใหม่ — โครงสร้างคล้าย update\nexport const createRecipe = async (data: RecipeForm) => {\n  const recipeDetails = await api.post<RecipeForm>(`/api/v1/food-recipes`, {\n    name: data.name,\n    description: data.description,\n    ingredient: data.ingredient,\n    instruction: data.instruction,\n    imageURL: data.imageURL ?? '',\n    difficultyID: Number(data.difficulty),\n    cookingDurationID: Number(data.duration),\n  })\n  return recipeDetails\n}\n\n// ดึงสูตรอาหารของผู้ใช้\n// - ถ้าไม่ระบุ userId จะใช้ 'self' (อ้างอิงจาก token ผู้ใช้ปัจจุบัน)\n// - ถ้า user ใหม่และยังไม่มีข้อมูล จะเรียก POST /users เพื่อ upsert แล้วค่อย retry 1 ครั้ง\nexport const fetchRecipesByUser = async (userId?: string) => {\n  try {\n    const uid = userId ?? 'self'\n    const recipes = await api.get<{ results: Recipe[] }>(\n      `/api/v1/users/${uid}/food-recipes`\n    )\n    return recipes.data.results || []\n  } catch (error) {\n  // Fallback: สร้าง/อัปเดต user แล้วลองดึงใหม่อีกครั้ง\n    try {\n      await api.post(`/api/v1/users/`, {})\n      const uid = userId ?? 'self'\n      const recipes = await api.get<{ results: Recipe[] }>(\n        `/api/v1/users/${uid}/food-recipes`\n      )\n      return recipes.data.results || []\n    } catch (e) {\n      console.error('Error fetching recipes by user (after upsert):', e)\n      return []\n    }\n  }\n}\n\n// ให้คะแนนสูตรอาหาร (ส่ง score)\nexport const createRating = async (data: Rating) => {\n  const recipeRating = await api.post<Rating>(\n    `/api/v1/food-recipes/${data.foodRecipeID}/ratings`,\n    {\n      score: data.score,\n    }\n  )\n  return recipeRating\n}\n\n// ดึงรายการโปรดของฉันแบบแบ่งหน้า + ค้นหา (ผลรวมและรายการ)\nexport const getFavorite = async (data: fetchRecipeRequest) => {\n  const recipeFavorite = await api.get<{ results: Recipe[]; total: number }>(\n    `/api/v1/food-recipes/favorites?page=${data.page}&limit=${data.limit}&search=${data.search}`\n  )\n  return recipeFavorite.data\n}\n// ดึงข้อมูลผู้ใช้ปัจจุบัน (อิงจาก token)\nexport const getUser = async () => {\n  const User = await api.get<User>(`/api/v1/users/`)\n  return User.data\n}\n// อัปเดตข้อมูลผู้ใช้ (nickname, imageUrl)\nexport const UpdateUser = async (data: UserForm) => {\n  const User = await api.put<User>(`/api/v1/users/`, {\n    nickName: data.nickName,\n    imageUrl: data.imageUrl,\n  })\n  return User.data\n}\n// เพิ่มรายการโปรดให้สูตรอาหารตาม id\nexport const CreateFavorite = async (foodRecipeID: number) => {\n  const favorite = await api.post(`/api/v1/food-recipes/${foodRecipeID}/favorites`)\n  return favorite\n}\n// ลบรายการโปรดของสูตรอาหารตาม id\nexport const DeleteFavorite = async (foodRecipeID: number) => {\n  const favorite = await api.delete(`/api/v1/food-recipes/${foodRecipeID}/favorites`)\n  return favorite\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/Navbar.tsx"],"sourcesContent":["'use client'\n\nimport Image from 'next/image'\nimport type React from 'react'\nimport { Button } from './ui/button'\nimport { useSession, signIn, signOut } from 'next-auth/react'\nimport { useEffect, useState } from 'react'\nimport Link from 'next/link'\nimport { getUser, type User } from '@/services/recipe.service'\n\nconst Navbar = () => {\n  const { data: session } = useSession()\n  const [me, setMe] = useState<User | null>(null)\n\n  const [hidden, sethidden] = useState<boolean>(false)\n  useEffect(() => {\n    let ignore = false\n    const load = async () => {\n      try {\n        if (!session) return\n        const u = await getUser()\n        if (!ignore) setMe(u)\n      } catch {\n        // ignore\n      }\n    }\n    load()\n    return () => {\n      ignore = true\n    }\n  }, [session])\n\n  const forSetHidden = () => {\n    sethidden(!hidden)\n  }\n\n  return (\n    <div className='flex justify-between' suppressHydrationWarning>\n      <Link href={`/`}>\n        <Image\n          src='/wongnok-with-name-logo.png'\n          width={182}\n          height={49}\n          alt='wongnok-logo'\n          className='object-contain'\n        />\n      </Link>\n\n  {session ? (\n        <div\n          className='flex flex-col relative cursor-pointer'\n          onClick={forSetHidden}\n        >\n          <div className='flex h-[40px] items-center justify-center'>\n            {/* Avatar */}\n            <div className='w-[28px] h-[28px] rounded-full overflow-hidden mr-2 border border-gray-200 bg-white'>\n              <img\n                src={(session as any)?.user?.imageUrl || me?.imageUrl || '/icons/person.svg'}\n                alt='avatar'\n                width={28}\n                height={28}\n                referrerPolicy='no-referrer'\n                onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                  const img = e.currentTarget\n                  if (img.src !== location.origin + '/icons/person.svg') {\n                    img.src = '/icons/person.svg'\n                  }\n                }}\n              />\n            </div>\n            {/* Nickname */}\n            <div className='text-primary-500 max-w-[220px] truncate'>{(session as any)?.user?.nickName || me?.nickName || 'Me'}</div>\n            <div className='w-[24px] h-[24px] ms-1 flex justify-center items-center'>\n              <span className='relative w-full h-full flex items-center justify-center'>\n                <img\n                  src='/icons/down.svg'\n                  width={11}\n                  height={7}\n                  alt='down menu logout'\n                  className={`absolute transition-all duration-300 ease-in-out ${\n                    hidden\n                      ? 'opacity-0 translate-y-2'\n                      : 'opacity-100 translate-y-0'\n                  }`}\n                />\n                <img\n                  src='/icons/up.svg'\n                  width={11}\n                  height={7}\n                  alt='up menu logout'\n                  className={`absolute transition-all duration-300 ease-in-out ${\n                    hidden\n                      ? 'opacity-100 translate-y-0'\n                      : 'opacity-0 -translate-y-2'\n                  }`}\n                />\n              </span>\n            </div>\n          </div>\n          <div\n            className={`bg-white w-[195px] h-auto border rounded-lg absolute mt-[64px] transition-all duration-300 ease-in-out\n              ${\n                hidden\n                  ? 'opacity-100 translate-y-0 pointer-events-auto'\n                  : 'opacity-0 -translate-y-4 pointer-events-none'\n              }`}\n          >\n            <Link href={`/my-favorite?limit=5&page=1`}>\n              <div className='w-[195px] h-[48px] flex items-center hover:bg-pinklittle rounded-lg'>\n                <span className='text-end w-full px-4'>รายการโปรด</span>\n              </div>\n            </Link>\n            <Link href={`/my-recipe`}>\n              <div className='w-[195px] h-[48px] flex items-center hover:bg-pinklittle rounded-lg'>\n                <span className='text-end w-full px-4'>สูตรอาหารของฉัน</span>\n              </div>\n            </Link>\n            <Link href={`/my-profile`}>\n              <div className='w-[195px] h-[48px] flex items-center hover:bg-pinklittle rounded-lg'>\n                <span className='text-end w-full px-4'>ข้อมูลส่วนตัว</span>\n              </div>\n            </Link>\n            <div\n              className='w-[195px] h-[48px] flex items-center hover:bg-pinklittle rounded-lg '\n              onClick={() => {\n                // End Keycloak SSO first (with id_token_hint), then clear NextAuth on return page\n                window.location.href = '/api/auth/keycloak/logout'\n              }}\n            >\n              <span className='text-end w-full px-4'>ออกจากระบบ</span>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <Button\n          className='text-primary-a cursor-pointer text-primary-500'\n          variant='ghost'\n          onClick={() => {\n      signIn()\n          }}\n        >\n          <Image\n            color='#E030F6'\n            src='/icons/person.svg'\n            alt='icon person'\n            width={16}\n            height={16}\n          />\n          เข้าระบบ\n        </Button>\n      )}\n    </div>\n  )\n}\n\nexport default Navbar\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 585, "column": 0}, "map": {"version":3,"sources":["file:///app/src/lib/provider.tsx"],"sourcesContent":["'use client'\n\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query'\nimport { SessionProvider } from 'next-auth/react'\nimport { ReactNode } from 'react'\n\n// Create a stable QueryClient instance\nlet queryClient: QueryClient | undefined = undefined\n\nconst getQueryClient = () => {\n  if (!queryClient) {\n    queryClient = new QueryClient({\n      defaultOptions: {\n        queries: {\n          staleTime: 1000 * 60 * 5, // 5 minutes\n          refetchOnWindowFocus: false,\n        },\n      },\n    })\n  }\n  return queryClient\n}\n\nconst Provider = ({\n  children,\n}: Readonly<{\n  children: ReactNode\n}>) => {\n  const client = getQueryClient()\n  \n  return (\n    <QueryClientProvider client={client}>\n      <SessionProvider>\n        {children}\n      </SessionProvider>\n    </QueryClientProvider>\n  )\n}\n\nexport default Provider\n"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;AAHA;;;;AAMA,uCAAuC;AACvC,IAAI,cAAuC;AAE3C,MAAM,iBAAiB;IACrB,IAAI,CAAC,aAAa;QAChB,cAAc,IAAI,gLAAA,CAAA,cAAW,CAAC;YAC5B,gBAAgB;gBACd,SAAS;oBACP,WAAW,OAAO,KAAK;oBACvB,sBAAsB;gBACxB;YACF;QACF;IACF;IACA,OAAO;AACT;AAEA,MAAM,WAAW;QAAC,EAChB,QAAQ,EAGR;IACA,MAAM,SAAS;IAEf,qBACE,6LAAC,yLAAA,CAAA,sBAAmB;QAAC,QAAQ;kBAC3B,cAAA,6LAAC,iJAAA,CAAA,kBAAe;sBACb;;;;;;;;;;;AAIT;KAdM;uCAgBS","debugId":null}}]
}